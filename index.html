<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-light type="ambient" intensity="0.5"></a-light>
      <a-light type="directional" position="2 5 3" intensity="0.8"></a-light>

      <a-box id="trackArea" position="0 0 0" width="12" height="0.1" depth="12" 
        material="color: blue; opacity: 0.2; transparent: true">
      </a-box>

      
      <a-entity id="track"></a-entity>

      <a-camera position="0 5 10">
        <a-cursor></a-cursor>
      </a-camera>
    </a-scene>

    <script>
      AFRAME.registerComponent('place-track', {
        init: function () {
          let trackArea = document.querySelector("#trackArea");
          let track = document.querySelector("#track");

          let width = trackArea.getAttribute("width");
          let depth = trackArea.getAttribute("depth");

          let trackRadius = Math.min(width, depth) / 2.5; 

          let torus = document.createElement("a-torus");
          torus.setAttribute("position", "0 0.1 0");
          torus.setAttribute("radius", trackRadius);
          torus.setAttribute("radius-tubular", "0.3");
          torus.setAttribute("rotation", "90 0 0");
          torus.setAttribute("material", "color: gray; opacity: 1; metalness: 0.5; roughness: 0.8");

          track.appendChild(torus);
        }
      });

      document.querySelector("#track").setAttribute("place-track", "");
    </script>
  </body>
</html>

